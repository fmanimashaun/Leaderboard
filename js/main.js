"use strict";(self.webpackChunktodo_list=self.webpackChunktodo_list||[]).push([[179],{281:()=>{const e=()=>{const e=document.querySelector(".scoreboard__score"),t=localStorage.getItem("score")?JSON.parse(localStorage.getItem("score")):[];if(0===t.length){const t='<p class="scoreboard__score-item empty">No scores yet</p>';e.innerHTML=t}else{t.sort(((e,t)=>t.score-e.score));const s=t.map((e=>`<p class="scoreboard__score-item">${e.user}: ${e.score}</p>`)).join("");e.innerHTML=s}},t="2G4QUSKbdUDi0Rd8q5P8";document.addEventListener("DOMContentLoaded",e),document.addEventListener("click",(s=>{if("submit"===s.target.type||"FORM"===s.target.tagName){s.preventDefault();const o="FORM"===s.target.tagName?s.target:s.target.form,r=o.querySelector("#name"),a=o.querySelector("#score"),c=/^\d+$/;if(""===r.value||null===r.value)r.setCustomValidity("Please enter player's name"),r.reportValidity();else if(""===a.value||null===a.value)a.setCustomValidity("Please enter player's score"),a.reportValidity();else if(c.test(a.value)){const s=new FormData(o),r={user:s.get("name"),score:s.get("score")};((e,t)=>fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((()=>{const e=localStorage.getItem("score")?JSON.parse(localStorage.getItem("score")):[];e.push(t),localStorage.setItem("score",JSON.stringify(e))})))(`https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/${t}/scores/`,r).then((()=>o.reset())).then((()=>e()))}else a.setCustomValidity("Please enter number only"),a.reportValidity()}else"refresh-btn"===s.target.id&&(async e=>{const t=await fetch(e),s=await t.json();localStorage.setItem("score",JSON.stringify(s.result))})(`https://us-central1-js-capstone-backend.cloudfunctions.net/api/games/${t}/scores/`).then((()=>e()))}))}},e=>{e(e.s=281)}]);